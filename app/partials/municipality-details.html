<!-- municipality-details.html -->

<!--
"contributions":[
  {"id":405,"name":"Reston & District Library","contribution":"$10,200.00"},
  {"id":411,"name":"Southwestern Manitoba Regional - Main","contribution":"$37,850.00"}
],
-->

<div class="container-fluid">
  <div class="row"> <!-- bootstrap classes -->
    <div class="col-md-4" style="padding-left: 30px;">
      <div id="municipality">
	<h2>Municipality</h2>
	<table border="1" cellpadding="10">
	  <thead>
	    <tr>
	      <th>Category</th>
	      <th>Detail</th>
	    </tr>
	  </thead>
	  <tbody>
	    <tr><td>ID</td><td>{{ municipalityDetails.id }}</td></tr>
	    <tr><td>Year</td><td>{{ municipalityDetails.year }}</td></tr>
	    <tr><td>Name</td><td>{{ municipalityDetails.name }}</td></tr>
	    <tr><td>Population</td><td>{{ municipalityDetails.population }}</td></tr>
	    <tr><td>Bilingual?</td><td>{{ municipalityDetails.is_bilingual }}</td></tr>
	    <tr><td>Northern?</td><td>{{ municipalityDetails.is_northern }}</td></tr>
	  </tbody>
	</table>
      </div>
    </div>

    <div class="col-md-6">
      <div id="contributions">
	<h2>Contributions</h2>
	<table border="1" cellpadding="10">
	  <thead>
	    <tr>
	      <th>ID</th>
	      <th>Library</th>
	      <th>Contribution</th>
	    </tr>
	  </thead>
	  <tbody>
	    <tr ng-repeat="contrib in contributions | orderBy:'name'">
	      <td>{{ contrib.id }}</td>
	      <td><a href="/libraries/{{ contrib.id }}">{{ contrib.name }}</a></td>
	      <td>{{ contrib.contribution }}</td>
	    </tr>
	  </tbody>
	</table>
	
      </div>
    </div>
  </div><!-- row -->
  
  <div class="row">
    <div class="col-md-4">
      <div id="census_year">
	<h2>Census year: {{ census_year.year }}</h2>
	<p>{{ census_year.year }} is the most recent census year for "{{ municipalityDetails.name }}, {{ municipalityDetails.year }}"</p>
      </div>
    </div>

    <div class="col-md-10" style="margin-bottom: 40px">
      <div id="census">
	<h2>Census data</h2>

	<table border="1" cellpadding="10">
	  <thead>
	    <tr>
	      <th>Topic</th>
	      <th>Details</th>
	    </tr>
	  </thead>
	  <tbody>
	    <tr ng-repeat="topic in census">
	      <td style="vertical-align:top"><a href ng-click="details.visible = !details.visible">{{ topic.topic }}</a></td>
	      <td>
		<div ng-show="details.visible">
		  
		  <table border="1" cellpadding="10">
		    <thead>
		      <tr>
			<th>Ord</th>
			<th>Characteristic</th>
			<th>Male</th>
			<th>Female</th>
			<th>Total</th>
		      </tr>
		    </thead>
		    <tbody>
		      <tr ng-repeat="d in topic.details">
			<td style="vertical-align:top">{{ d.ord }}</td>
			<td style="vertical-align:top">{{ d.characteristic }}</td>
			<td>{{ d.male }}</td>
			<td>{{ d.female }}</td>
			<td>{{ d.total }}</td>
		      </tr>
		    </tbody>
		  </table>
		  
		</div><!-- details -->
	      </td>
	    </tr>
	  </tbody>
	</table>
	
      </div>
    </div>
  </div><!-- row -->
  
</div>
